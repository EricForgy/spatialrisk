<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Concentration risk — concentration • spatialrisk</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Concentration risk — concentration" />
<meta property="og:description" content="The sum of all observations within a radius from center point(s). In particular,
it can be used to determine concentration risk in the context of the EU insurance regulation framework (Solvency II).
The function offers an effective approach to calculate the 'standard formula' under Solvency II.
The 'standard formula' under Solvency II asks companies to report their largest fire concentration in
respect of the fire peril within a radius of 200m. This is the maximum gross sum insured of the set of
buildings fully or partly located within this radius (Commission Delegated Regulation (EU), 2015, Article 132)." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spatialrisk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mharinga/spatialrisk/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Concentration risk</h1>
    <small class="dont-index">Source: <a href='https://github.com/mharinga/spatialrisk/blob/master/R/concentration.R'><code>R/concentration.R</code></a></small>
    <div class="hidden name"><code>concentration.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The sum of all observations within a radius from center point(s). In particular,
it can be used to determine concentration risk in the context of the EU insurance regulation framework (Solvency II).
The function offers an effective approach to calculate the 'standard formula' under Solvency II.
The 'standard formula' under Solvency II asks companies to report their largest fire concentration in
respect of the fire peril within a radius of 200m. This is the maximum gross sum insured of the set of
buildings fully or partly located within this radius (Commission Delegated Regulation (EU), 2015, Article 132).</p>
    </div>

    <pre class="usage"><span class='fu'>concentration</span>(
  <span class='no'>sub</span>,
  <span class='no'>full</span>,
  <span class='no'>value</span>,
  <span class='kw'>lon_sub</span> <span class='kw'>=</span> <span class='no'>lon</span>,
  <span class='kw'>lat_sub</span> <span class='kw'>=</span> <span class='no'>lat</span>,
  <span class='kw'>lon_full</span> <span class='kw'>=</span> <span class='no'>lon</span>,
  <span class='kw'>lat_full</span> <span class='kw'>=</span> <span class='no'>lat</span>,
  <span class='kw'>radius</span> <span class='kw'>=</span> <span class='fl'>200</span>,
  <span class='kw'>display_progress</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sub</th>
      <td><p>data.frame of locations to calculate concentration risk for (target points).</p></td>
    </tr>
    <tr>
      <th>full</th>
      <td><p>data.frame to find the locations within radius <code>r</code> from locations in <code>sub</code> (reference locations).</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>Column with value in <code>full</code>.</p></td>
    </tr>
    <tr>
      <th>lon_sub</th>
      <td><p>Column in <code>sub</code> with longitude (lon is default).</p></td>
    </tr>
    <tr>
      <th>lat_sub</th>
      <td><p>Column in <code>sub</code> with latitude (lat is default).</p></td>
    </tr>
    <tr>
      <th>lon_full</th>
      <td><p>Column in <code>full</code> with longitude in <code>full</code> (lon is default).</p></td>
    </tr>
    <tr>
      <th>lat_full</th>
      <td><p>Column in <code>full</code> with latitude in <code>full</code> (lat is default).</p></td>
    </tr>
    <tr>
      <th>radius</th>
      <td><p>Radius (in meters) (default is 200m).</p></td>
    </tr>
    <tr>
      <th>display_progress</th>
      <td><p>Show progress bar (TRUE/FALSE).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame equal to data.frame <code>sub</code> including an extra column <code>concentration</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The data.frame <code>sub</code> should include at least columns for longitude and latitude.</p>
<p>The data.frame <code>full</code> should include at least columns for longitude, latitude and value of interest to summarize.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Commission Delegated Regulation (EU) (2015). Solvency II Delegated Act 2015/35. Official Journal of the European Union, 58:124.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>location</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"p1"</span>, <span class='st'>"p2"</span>), <span class='kw'>lon</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>6.561561</span>, <span class='fl'>6.561398</span>), <span class='kw'>lat</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>53.21369</span>, <span class='fl'>53.21326</span>))
<span class='fu'>concentration</span>(<span class='no'>df</span>, <span class='no'>Groningen</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='no'>amount</span>, <span class='kw'>radius</span> <span class='kw'>=</span> <span class='fl'>100</span>)</div><div class='output co'>#&gt;   location      lon      lat concentration
#&gt; 1       p1 6.561561 53.21369          2055
#&gt; 2       p2 6.561398 53.21326          2892</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martin Haringa.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


